
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="https://github.com/go-shiori/shiori/_old/Usage/" rel="canonical"/>
<link href="../../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.5.2, mkdocs-material-9.2.3" name="generator"/>
<title>Usage - Shiori</title>
<link href="../../assets/stylesheets/main.0e669242.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.85d0ee34.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<link href="../../assets/css/style.css" rel="stylesheet"/>
<script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="shiori" dir="ltr">
<script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#running-docker-container">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="Shiori" class="md-header__button md-logo" data-md-component="logo" href="../.." title="Shiori">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            Shiori
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Usage
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary="indigo" data-md-color-scheme="shiori" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_2" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"></path></svg>
</label>
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary="indigo" data-md-color-scheme="slate" id="__palette_2" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"></path></svg>
</label>
</form>
</nav>
</header>
<div class="md-container" data-md-component="container">
<nav aria-label="Tabs" class="md-tabs" data-md-component="tabs">
<div class="md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../getting_started/installation/">
          
  
  Getting Started

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../users_guide/cli/">
          
  
  User's Guide

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../CodeOfConduct.md">
          
  
  Contributing

        </a>
</li>
</ul>
</div>
</nav>
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Shiori" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="Shiori">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"></path></svg>
</a>
    Shiori
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
<span class="md-ellipsis">
    Getting Started
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_1_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_1">
<span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../getting_started/installation/">
<span class="md-ellipsis">
    Installation
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../quickstart.md">
<span class="md-ellipsis">
    Quickstart
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
<span class="md-ellipsis">
    User's Guide
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
            User's Guide
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../users_guide/cli/">
<span class="md-ellipsis">
    CLI
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../users_guide/web.md">
<span class="md-ellipsis">
    Web Interface
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../users_guide/APIv1/">
<span class="md-ellipsis">
    API
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
<span class="md-ellipsis">
    Contributing
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
            Contributing
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../CodeOfConduct.md">
<span class="md-ellipsis">
    Code of Conduct
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Contributing.md">
<span class="md-ellipsis">
    Contributing Guide
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#running-docker-container">
    Running Docker Container
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#using-command-line-interface">
    Using Command Line Interface
  </a>
<nav aria-label="Using Command Line Interface" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#search-syntax">
    Search syntax
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#using-web-interface">
    Using Web Interface
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#improved-import-from-pocket">
    Improved import from Pocket
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#import-from-wallabag">
    Import from Wallabag
  </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1>Usage</h1>
<p>Before using <code>shiori</code>, make sure it has been installed on your system. By default, <code>shiori</code> will store its data in directory <code>$HOME/.local/share/shiori</code>. If you want to set the data directory to another location, you can set the environment variable <code>SHIORI_DIR</code> (<code>ENV_SHIORI_DIR</code> when you are before <code>1.5.0</code>) to your desired path.</p>
<!-- TOC -->
<ul>
<li><a href="#running-docker-container">Running Docker Container</a></li>
<li><a href="#using-command-line-interface">Using Command Line Interface</a></li>
<li><a href="#search-syntax">Search syntax</a></li>
<li><a href="#using-web-interface">Using Web Interface</a></li>
<li><a href="#improved-import-from-pocket">Improved import from Pocket</a></li>
<li><a href="#import-from-wallabag">Import from Wallabag</a></li>
</ul>
<!-- /TOC -->
<h2 id="running-docker-container">Running Docker Container</h2>
<blockquote>
<p>If you are not using <code>shiori</code> from Docker image, you can skip this section.</p>
</blockquote>
<p>After building or pulling the image, you will be able to start a container from it. To preserve the data, you need to bind the directory for storing database, thumbnails and archive. In this example we're binding the data directory to our current working directory :</p>
<pre><code>docker run -d --rm --name shiori -p 8080:8080 -v $(pwd):/shiori ghcr.io/go-shiori/shiori
</code></pre>
<p>The above command will :</p>
<ul>
<li>Creates a new container from image <code>ghcr.io/go-shiori/shiori</code>.</li>
<li>Set the container name to <code>shiori</code> (option <code>--name</code>).</li>
<li>Bind the host current working directory to <code>/shiori</code> inside container (option <code>-v</code>).</li>
<li>Expose port <code>8080</code> in container to port <code>8080</code> in host machine (option <code>-p</code>).</li>
<li>Run the container in background (option <code>-d</code>).</li>
<li>Automatically remove the container when it stopped (option <code>--rm</code>).</li>
</ul>
<p>After you've run the container in background, you can access console of the container:</p>
<pre><code>docker exec -it shiori sh
</code></pre>
<p>Now you can use <code>shiori</code> like normal. If you've finished, you can stop and remove the container by running :</p>
<pre><code>docker stop shiori
</code></pre>
<h2 id="using-command-line-interface">Using Command Line Interface</h2>
<p>Shiori is composed by several subcommands. To see the documentation, run <code>shiori -h</code> :</p>
<pre><code>Simple command-line bookmark manager built with Go

Usage:
  shiori [command]

Available Commands:
  add         Bookmark the specified URL
  check       Find bookmarked sites that no longer exists on the internet
  delete      Delete the saved bookmarks
  export      Export bookmarks into HTML file in Netscape Bookmark format
  help        Help about any command
  import      Import bookmarks from HTML file in Netscape Bookmark format
  open        Open the saved bookmarks
  pocket      Import bookmarks from Pocket's exported HTML file
  print       Print the saved bookmarks
  serve       Serve web interface for managing bookmarks
  server      Run the Shiori webserver [alpha]
  update      Update the saved bookmarks
  version     Output the shiori version

Flags:
  -h, --help       help for shiori
      --portable   run shiori in portable mode

Use "shiori [command] --help" for more information about a command.
</code></pre>
<h3 id="search-syntax">Search syntax</h3>
<p>With the <code>print</code> command line interface, you can use <code>-s</code> flag to submit keywords that will be searched either in url, title, excerpts or cached content.
You may also use <code>-t</code> flag to include tags and <code>-e</code> flag to exclude tags.</p>
<h2 id="using-web-interface">Using Web Interface</h2>
<p>To access web interface run <code>shiori serve</code> or start Docker container following tutorial above. If you want to use a different port instead of 8080, you can simply run <code>shiori serve -p &lt;portnumber&gt;</code>. Once started you can access the web interface in <code>http://localhost:8080</code> or <code>http://localhost:&lt;portnumber&gt;</code> if you customized it. You will be greeted with login screen like this :</p>
<p><img alt="Login screen" src="https://raw.githubusercontent.com/go-shiori/shiori/master/docs/screenshots/01-login.png"/></p>
<p>Since this is our first time, we don't have any account registered yet. With that said, we can use the default user to access web interface :</p>
<pre><code>username: shiori
password: gopher
</code></pre>
<p>Once login succeed you will be able to use the web interface. To add the new account, open the settings page and add accounts as needed :</p>
<p><img alt="Options page" src="https://raw.githubusercontent.com/go-shiori/shiori/master/docs/screenshots/04-options.png"/></p>
<p>The first new account you add will become the owner and it will deactivate the "shiori:gopher" default user automatically.</p>
<p>When searching for bookmarks, you may use <code>tag:tagname</code> to include tags and <code>-tag:tagname</code> to exclude tags in the search bar. You can also use tags dialog to do this :</p>
<ul>
<li><code>Click</code> on the tag name to include it;</li>
<li><code>Alt + Click</code> on the tag name to exclude it.</li>
</ul>
<h2 id="improved-import-from-pocket">Improved import from Pocket</h2>
<p>Shiori offers a <a href="https://github.com/go-shiori/shiori/blob/master/docs/Usage.md#using-command-line-interface">Command Line Interface</a> with the command <code>shiori pocket</code> to import Pocket entries but with this can only import them as links and not as complete entries.</p>
<p>To import your bookmarks from <a href="https://getpocket.com/">Pocket</a> with the text and images follow these simple steps (based on <a href="https://github.com/go-shiori/shiori/issues/252">Issue 252</a>):</p>
<ol>
<li>
<p>Export your entries from Pocket by visiting https://getpocket.com/export</p>
</li>
<li>
<p>Download <a href="https://gist.github.com/fmartingr/88a258bfad47fb00a3ef9d6c38e5699e">this shell script</a>. [<em>You need to download this in your docker container or on the device that you are hosting shiori</em>]. Name it for instance <code>pocket2shiori.sh</code>.</p>
</li>
</ol>
<blockquote>
<p>Tip: checkout the documentation for <a href="https://github.com/go-shiori/shiori/blob/master/docs/Usage.md#running-docker-container">opening a console in the docker container</a>.</p>
</blockquote>
<ol>
<li>Execute the shell script.</li>
</ol>
<p>Here are the commands you need to run:
   <code>sh
   wget 'https://gist.githubusercontent.com/fmartingr/88a258bfad47fb00a3ef9d6c38e5699e/raw/a21afb20b56d5383b8b975410e0eb538de02b422/pocket2shiori.sh'
   chmod +x pocket2shiori.sh
   pocket2shiori.sh 'path_to_your/pocket_export.html'</code></p>
<blockquote>
<p>Tip: If you’re using shiori's docker container, ensure that the exported HTML from pocket is accessible inside the docker container.</p>
</blockquote>
<p>You should now see <code>shiori</code> importing your Pocket entries properly with the text and images.
This is optional, but once the import is complete you can clean up by running:</p>
<pre><code class="language-sh">rm pocket2shiori.sh 'path_to_your/pocket_export.html'
</code></pre>
<h2 id="import-from-wallabag">Import from Wallabag</h2>
<ol>
<li>
<p>Export your entries from Wallabag as a json file</p>
</li>
<li>
<p>Install <a href="https://stedolan.github.io/jq/download/">jq</a>. You will need this installed before running the script.</p>
</li>
<li>
<p>Download the shell script
<a href="https://gist.githubusercontent.com/Aerex/01499c66f6b36a5d997f97ca1b0ab5b1/raw/bf793515540278fc675c7769be74a77ca8a41e62/wallabag2shiori">here</a>. Similar to the <code>pocket2shiori.sh</code> script if you are shiori is in a docker container you will next to run this script
inside the container.</p>
</li>
<li>
<p>Execute the script. Here are the commands that you can run.</p>
</li>
</ol>
<p><code>sh
    curl -sSOL
    https://gist.githubusercontent.com/Aerex/01499c66f6b36a5d997f97ca1b0ab5b1/raw/bf793515540278fc675c7769be74a77ca8a41e62/wallabag2shiori'
    chmod +x wallabag2shiori
    ./wallabag2shiori 'path/to/to/wallabag_export_json_file'</code></p>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs"], "search": "../../assets/javascripts/workers/search.dfff1995.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
<script src="../../assets/javascripts/bundle.78eede0e.min.js"></script>
<script>document$.subscribe(() => {
            window.update_swagger_ui_iframe_height = function (id) {
                var iFrameID = document.getElementById(id);
                if (iFrameID) {
                    full_height = (iFrameID.contentWindow.document.body.scrollHeight + 80) + "px";
                    iFrameID.height = full_height;
                    iFrameID.style.height = full_height;
                }
            }
        
            let iframe_id_list = []
            var iframes = document.getElementsByClassName("swagger-ui-iframe");
            for (var i = 0; i < iframes.length; i++) { 
                iframe_id_list.push(iframes[i].getAttribute("id"))
            }
        
            let ticking = true;
            
            document.addEventListener('scroll', function(e) {
                if (!ticking) {
                    window.requestAnimationFrame(()=> {
                        let half_vh = window.innerHeight/2;
                        for(var i = 0; i < iframe_id_list.length; i++) {
                            let element = document.getElementById(iframe_id_list[i])
                            if(element==null){
                                return
                            }
                            let diff = element.getBoundingClientRect().top
                            if(element.contentWindow.update_top_val){
                                element.contentWindow.update_top_val(half_vh - diff)
                            }
                        }
                        ticking = false;
                    });
                    ticking = true;
                }
            });
        
            const dark_scheme_name = "slate"
            
            window.scheme = document.body.getAttribute("data-md-color-scheme")
            const options = {
                attributeFilter: ['data-md-color-scheme'],
            };
            function color_scheme_callback(mutations) {
                for (let mutation of mutations) {
                    if (mutation.attributeName === "data-md-color-scheme") {
                        scheme = document.body.getAttribute("data-md-color-scheme")
                        var iframe_list = document.getElementsByClassName("swagger-ui-iframe")
                        for(var i = 0; i < iframe_list.length; i++) {
                            var ele = iframe_list.item(i);
                            if (ele) {
                                if (scheme === dark_scheme_name) {
                                    ele.contentWindow.enable_dark_mode();
                                } else {
                                    ele.contentWindow.disable_dark_mode();
                                }
                            }
                        }
                    }
                }
            }
            observer = new MutationObserver(color_scheme_callback);
            observer.observe(document.body, options);
            })</script></body>
</html>